# 機能仕様書: テストマネジメントシステム（統合型品質管理プラットフォーム）

**機能ブランチ**: `001-test-management-system`
**作成日**: 2026-02-05
**ステータス**: ドラフト
**入力**: 開発プロジェクト統合（Issue/PR/CI） × バージョン管理（Revision/差分/ベースライン） × 承認ワークフロー（多段・例外承認・監査）を前提としたテストマネジメントアプリケーション

## ユーザーシナリオとテスト _(必須)_

### ユーザーストーリー1 - テスト資産の作成・承認・バージョン管理 (優先度: P1)

QA Engineerがテストケースやテストシナリオを作成し、QA Managerが承認を行う。すべてのテスト資産は不変なリビジョンとして管理され、変更時には新しいリビジョンを作成し、再度承認を得る必要がある。これにより、監査証跡が完全に保持され、「どのバージョンのテストで検証したか」が明確になる。

**この優先度の理由**: テスト資産の信頼性と追跡可能性がシステムの根幹。承認されたテスト資産がなければリリース判定ができないため、最優先で実装が必要。

**独立したテスト**: テストケース作成→レビュー提出→承認者による承認→リビジョン固定の一連のフローを実行し、リビジョン履歴と承認記録が残ることを確認することで完全にテスト可能。

**受け入れシナリオ**:

1. **前提** QA Engineerがログインしている、**操作** 新規テストケースを作成し、タイトル・手順・期待結果・タグ・優先度を入力して保存、**結果** テストケースが「Draft」ステータスで保存され、stable_idとrev=1が付与される
2. **前提** Draftステータスのテストケースがある、**操作** QA Engineerがレビュー提出ボタンを押す、**結果** ステータスが「InReview」に変更され、承認者（QA Manager）に通知が送信される
3. **前提** InReviewステータスのテストケースがある、**操作** QA Managerが承認ボタンを押し、コメントを入力、**結果** ステータスが「Approved」に変更され、承認証跡（承認者・日時・コメント）が記録される
4. **前提** Approvedステータスのテストケースがある、**操作** QA Engineerが期待結果を修正、**結果** 新しいリビジョン（rev=2）が「Draft」ステータスで作成され、元のrev=1は不変のまま残る。変更理由と差分が記録される
5. **前提** 複数のテストケースリビジョンがApprovedされている、**操作** QA Engineerが複数のテストケースを順序付きで束ねてテストシナリオを作成、**結果** テストシナリオが作成され、参照するテストケースリビジョンが固定される（後からテストケースが更新されてもシナリオは変わらない）
6. **前提** テストシナリオがApprovedされている、**操作** QA Engineerが複数のテストシナリオを束ねてテストシナリオリスト（実行テンプレート）を作成、**結果** テストシナリオリストが作成され、参照するシナリオリビジョンが固定される

---

### ユーザーストーリー2 - リリースゲート評価とリリース承認 (優先度: P1)

QA Managerがリリース前にゲート条件（要件カバレッジ100%、失敗0件、未承認資産0件など）を評価し、違反がある場合はリリースを承認できない。やむを得ない事情がある場合はWaiver（例外承認）を発行して違反を解除できる。これにより、品質基準を満たさないリリースを防ぐとともに、例外の理由と期限を明確に記録する。

**この優先度の理由**: リリース判断の最終関門であり、ビジネス価値提供に直結する。ゲート条件を自動評価できることで、リリース可否が1画面で確定的に判断できる。

**独立したテスト**: リリース作成→ゲート条件設定→ゲート評価実行→違反検出→Waiver発行→再評価→リリース承認の一連のフローを実行し、ゲート評価ロジックと例外承認の記録が正しく動作することを確認することで完全にテスト可能。

**受け入れシナリオ**:

1. **前提** プロジェクトにリリースゲート条件が定義されている、**操作** QA Managerが新規リリースを作成し、採用するテストシナリオリストリビジョン（Baseline）を指定、**結果** リリースが「Planning」ステータスで作成され、Baselineが固定される
2. **前提** リリースが「Executing」ステータスにある、**操作** QA ManagerがリリースゲートのTrigger evaluationボタンを押す、**結果** システムが以下を評価し、結果を表示する：(1) 対象要件の100%にApprovedテスト資産が紐付いているか、(2) Fail結果が0件か、Waiver付きのみか、(3) 未承認リビジョンが0件か、(4) 未実行が0件か
3. **前提** ゲート評価で違反が検出された、**操作** QA Managerがリリース承認ボタンを押す、**結果** エラーメッセージが表示され、違反理由（例: "要件REQ-123にApprovedテスト資産が紐付いていません"）がリストアップされ、リリース承認が禁止される
4. **前提** ゲート評価で違反が検出された、**操作** QA ManagerがWaiver発行フォームを開き、対象違反・理由・期限（例: 30日後）・影響範囲を入力して発行、**結果** Waiverが記録され、該当違反がゲート評価から除外される。Waiverには発行者・日時・理由・期限が記録される
5. **前提** すべてのゲート違反が解消された（または有効なWaiverがある）、**操作** QA Managerがリリース承認ボタンを押す、**結果** リリースステータスが「ApprovedForRelease」に変更され、承認証跡が記録される
6. **前提** Waiverの期限が切れた、**操作** システムが定期的にWaiverの有効期限をチェック、**結果** 期限切れWaiverが自動的に無効化され、該当違反がゲート評価に再計上される

---

### ユーザーストーリー3 - テスト実行と結果記録 (優先度: P2)

QA EngineerまたはDeveloperがテストを実行し、結果（Pass/Fail/Blocked/Skipped）を記録する。手動実行と自動実行（CI結果の取り込み）の両方に対応する。Fail時には根拠（ログ/スクリーンショット/リンク）とバグリンクの添付を必須化できる。これにより、テスト結果の信頼性と欠陥との紐付けが保証される。

**この優先度の理由**: リリースゲート評価の入力データとなるため重要だが、テスト資産管理と承認の仕組みが先に必要なため優先度P2。

**独立したテスト**: テストラン作成→担当者割当→実行→結果記録→バグリンク添付の一連のフローを実行し、結果とエビデンスが正しく記録されることを確認することで完全にテスト可能。

**受け入れシナリオ**:

1. **前提** リリースとテストラングループが作成されている、**操作** QA Managerがテストラングループ内に新規テストランを作成し、担当者（QA Engineer）を指定、採用するテストシナリオリストリビジョンを指定、**結果** テストランが作成され、リスト内のテストケースリビジョンがテストランアイテムとして展開・固定される（後からリストが更新されてもランは変わらない）
2. **前提** テストランが「Assigned」ステータスで担当者に割り当てられている、**操作** 担当者がテストランを開き、「実行開始」ボタンを押す、**結果** ステータスが「InProgress」に変更される
3. **前提** テストランが「InProgress」ステータスにある、**操作** 担当者が個別のテストランアイテムを実行し、結果を「Pass」として記録、**結果** テストランアイテムのステータスが「Pass」に更新され、実行日時・実行者が記録される
4. **前提** テストランが「InProgress」ステータスにある、**操作** 担当者が個別のテストランアイテムを実行し、結果を「Fail」として記録しようとする、**結果** プロジェクト設定でFail時の根拠必須化がONの場合、ログ/スクリーンショット/リンクの添付とバグリンクの入力が必須となる。入力後、結果が記録される
5. **前提** CI環境でテストが実行された、**操作** CIシステムがJUnitレポートをAPI/CLI経由でシステムに送信、**結果** システムがレポートを解析し、対応するテストランアイテムの結果を自動的に更新する（Pass/Fail/Skipped）
6. **前提** すべてのテストランアイテムの結果が記録された、**操作** 担当者が「完了」ボタンを押す、**結果** テストランのステータスが「Completed」に変更される

---

### ユーザーストーリー4 - 要件トレーサビリティとカバレッジ管理 (優先度: P2)

PM/POとQA Engineerが要件（外部Issue）とテスト資産（テストケース/シナリオ/リスト）を紐付け、要件単位でカバレッジを確認できる。マッピング（紐付け）自体もリビジョン管理され、「いつ誰がどの要件とテストを紐付けたか」が監査可能になる。これにより、要件変更時の影響範囲を特定し、テスト資産を更新できる。

**この優先度の理由**: 要件変更時の影響分析とカバレッジ可視化はリリース判断に重要だが、テスト資産管理と実行の仕組みが先に必要なため優先度P2。

**独立したテスト**: 要件同期→マッピング作成→カバレッジ確認→要件変更→マッピング再確認の一連のフローを実行し、トレーサビリティが正しく維持されることを確認することで完全にテスト可能。

**受け入れシナリオ**:

1. **前提** 外部Issueトラッカー（Jira/GitHub/Linear）と連携設定が完了している、**操作** システムが定期的に外部Issueを同期、**結果** 新規または更新されたIssueが要件（Requirement）としてシステムに取り込まれ、外部ID・タイトル・ステータス・担当者・ラベル等が保存される
2. **前提** 要件とテストケースリビジョンが存在する、**操作** QA Engineerがマッピング作成画面で要件を選択し、紐付けるテストケースリビジョンを選択して保存、**結果** マッピングリビジョン（rev=1）が「Draft」ステータスで作成され、要件とテストケースが紐付けられる
3. **前提** マッピングがApprovedされている、**操作** PM/POが要件一覧画面を開き、カバレッジ列を確認、**結果** 各要件に対して「Approvedテスト資産が紐付いているか」が○/×で表示される。全体カバレッジ率（例: 85%）が表示される
4. **前提** 外部Issueが更新された、**操作** システムがWebhookで更新イベントを受領、**結果** 該当要件が更新され、関連マッピングに「要再確認」フラグが立つ（実装上は新MappingRevisionがDraftに戻る、または警告表示）
5. **前提** 要件が更新され「要再確認」フラグが立っている、**操作** QA Engineerがマッピングを確認し、影響があればテストケース/シナリオを更新（新リビジョン作成）、マッピングも更新して再度承認申請、**結果** 新しいテストケースリビジョンとマッピングリビジョンが承認され、次のリリースBaselineに取り込まれる

---

### ユーザーストーリー5 - 外部システム連携（Issue/PR/CI） (優先度: P3)

AdminがJira/GitHub/Linear等の外部IssueトラッカーやCI/CD環境との連携を設定し、Issue/PR/CIの情報を自動的に取り込む。これにより、開発活動とテスト活動が統合され、PR単位でのテストスコープ提案やCI結果の自動取り込みが可能になる。

**この優先度の理由**: 自動化と効率化に寄与するが、手動でも運用可能なため優先度P3。まずはコア機能（資産管理・承認・実行）を安定させてから実装。

**独立したテスト**: 外部システム連携設定→Issue同期→PRリンク→CI結果取り込みの一連のフローを実行し、外部データが正しく取り込まれることを確認することで完全にテスト可能。

**受け入れシナリオ**:

1. **前提** Adminがログインしている、**操作** 連携設定画面でJiraを選択し、URL・認証情報（APIトークン）・同期対象プロジェクトを入力して保存、**結果** 連携設定が保存され、接続テストが実行される。成功すれば有効化される
2. **前提** Jira連携が有効化されている、**操作** システムが定期的（例: 10分毎）にJira APIを呼び出し、**結果** 新規または更新されたIssueが要件として取り込まれ、既存要件も最新状態に更新される
3. **前提** GitHub連携が有効化されている、**操作** DeveloperがPRを作成またはマージ、**結果** システムがWebhookでPRイベントを受領し、PR情報（タイトル・担当者・マージ日時）をリリースまたはテストランに紐付ける
4. **前提** CI連携が有効化されている、**操作** CIパイプラインがテスト実行後、結果（JUnit XML等）をシステムのAPI/CLIに送信、**結果** システムがレポートを解析し、対応するテストランアイテムの結果を自動的に更新する

---

### ユーザーストーリー6 - 監査ログとコンプライアンス (優先度: P3)

AuditorまたはQA Managerが監査ログを検索し、「誰がいつ何を変更したか」「誰が承認したか」「なぜ例外承認が発行されたか」を確認できる。監査ログは改ざん耐性を持ち、アプリケーション権限では編集できない。これにより、規制対応や品質統制の証跡として利用できる。

**この優先度の理由**: 監査要件は重要だが、基本機能が動作してから証跡を整備する方が効率的なため優先度P3。

**独立したテスト**: 各種操作実行→監査ログ記録→ログ検索→エクスポートの一連のフローを実行し、すべての重要操作が記録され、改ざんできないことを確認することで完全にテスト可能。

**受け入れシナリオ**:

1. **前提** システム内で各種操作（テストケース作成・承認・リリース承認・Waiver発行等）が実行されている、**操作** Auditorが監査ログ画面を開く、**結果** すべての重要操作が時系列で表示される。各ログには操作者・対象・操作種別・日時・変更前後の値が記録されている
2. **前提** 監査ログが蓄積されている、**操作** Auditorが期間（例: 2025-01-01〜2025-12-31）とユーザー（例: user@example.com）と操作種別（例: Approval）を指定して検索、**結果** 条件に一致するログのみが表示される
3. **前提** 監査ログが表示されている、**操作** AuditorがエクスポートボタンでCSVを選択、**結果** 表示中のログがCSV形式でダウンロードされる
4. **前提** 監査ログが記録されている、**操作** Adminが監査ログを編集または削除しようとする、**結果** システムがエラーメッセージを表示し、操作が禁止される（改ざん耐性）

---

### エッジケース

- **承認者が不在の場合**: 承認者が休暇中または退職した場合、事前に代理承認者を指定できる。承認者設定画面で「代理承認者」を設定しておくと、承認者不在時は自動的に代理に通知が送られ、代理が承認を行える。
- **リビジョン爆発**: テストケースが頻繁に更新され、大量のリビジョンが蓄積した場合、古いリビジョンを「Deprecated」として非表示にする機能はあるか？
- **同時編集**: 複数のユーザーが同じテストケースを同時に編集した場合、最後の保存が勝つか、または競合を検出して警告するか？
- **Waiver期限切れの通知**: Waiverの期限が近づいた場合（例: 3日前）、発行者または関係者に通知を送信するか？
- **外部システム連携エラー**: 外部IssueトラッカーまたはCIとの連携が失敗した場合（認証エラー、ネットワーク障害等）、どのように再試行するか？エラーログはどこに記録するか？
- **大量データのパフォーマンス**: テストケースが10万件、テスト結果が1,000万件蓄積した場合、検索・集計・画面表示がストレスなく動作するか？ページネーション、キャッシュ、段階ローディング等の対策が必要か？

## 要件 _(必須)_

### 機能要件

#### テスト資産管理（Test Case / Scenario / List）

- **FR-001**: システムはテストケースをstable_idで一意に管理し、編集時には新リビジョンを作成しなければならない
- **FR-002**: テストケースリビジョンは不変（immutable）であり、更新後も過去のリビジョンを完全に保持しなければならない
- **FR-003**: 各リビジョン作成時には変更理由・変更者・日時・差分（前リビジョンとの比較）を必ず記録しなければならない
- **FR-004**: テストケースにはメタ情報（タグ・優先度・対象環境・責務領域）を任意に設定できなければならない
- **FR-005**: テストシナリオは複数のテストケースリビジョンを順序付きで束ねる資産として管理され、シナリオ自体もリビジョン管理されなければならない
- **FR-006**: テストシナリオリスト（実行テンプレート）は複数のテストシナリオリビジョンを順序付きで束ねる資産として管理され、リスト自体もリビジョン管理されなければならない
- **FR-007**: リビジョンのステータスは「Draft → InReview → Approved → Deprecated」の状態機械に従わなければならない
- **FR-008**: Approvedステータスのリビジョンは不変であり、修正は新リビジョン作成でのみ可能でなければならない

#### 承認ワークフロー

- **FR-009**: テストケースリビジョン・テストシナリオリビジョン・テストシナリオリストリビジョン・マッピングリビジョン・リリース承認・Waiverは承認対象でなければならない
- **FR-010**: 承認ワークフローは多段階（例: Reviewer → Approver）をサポートしなければならない
- **FR-011**: 承認操作には必ず承認者・日時・コメント・根拠リンク（オプション）を記録し、電子署名相当の証跡を残さなければならない
- **FR-012**: 承認ステップ（段数・承認者ロール）はプロジェクト単位で定義可能でなければならない
- **FR-013**: 承認差戻し機能をサポートし、差戻し理由を記録しなければならない
- **FR-014**: 承認者ごとに代理承認者を事前に指定可能でなければならない。承認者不在時は自動的に代理承認者に通知が送られ、代理が承認権限を持つ

#### リリース管理とBaseline

- **FR-015**: リリースを作成し、期間・対象ビルド・説明を設定できなければならない
- **FR-016**: リリースは採用するテストシナリオリストリビジョン（Baseline）を固定し、監査可能な形で構成要素のリビジョン一覧を保持しなければならない
- **FR-017**: Baselineは「どのリビジョンで実行したか」をリリース後も再現可能でなければならない

#### テスト実行と結果記録

- **FR-018**: テストランはリリース配下のテストラングループに作成され、必ず担当者1名（assignee_user_id）を持たなければならない
- **FR-019**: テストラン作成時にはテストシナリオリストリビジョンを指定し、リスト内のテストケースリビジョンをテストランアイテムとして展開・固定しなければならない
- **FR-020**: テストランアイテムは後からテストケースが更新されても変わらない（スナップショット）
- **FR-021**: テスト結果のステータスは最低限「Pass / Fail / Blocked / Skipped」をサポートしなければならない
- **FR-022**: Fail時の根拠（ログ/スクリーンショット/リンク）必須化をプロジェクト設定で制御できなければならない
- **FR-023**: Fail時のバグリンク必須化をプロジェクト設定で制御できなければならない
- **FR-024**: 同一テストランアイテムの再実行履歴を保持できなければならない
- **FR-025**: 手動結果入力と自動結果取り込み（CI結果）を同一テストランに混在可能でなければならない

#### リリースゲートとWaiver

- **FR-026**: リリースゲート条件を定義可能でなければならない（例: 対象要件の100%にApprovedテスト資産が紐付く、Failが0またはWaiver付きのみ、未承認リビジョンが0、未実行が0）
- **FR-027**: ゲート条件違反時はリリース承認を禁止し、違反理由を列挙しなければならない
- **FR-028**: Waiver（例外承認）を発行して違反を解除できなければならない。Waiverには発行者・理由・期限・対象・影響範囲を必ず記録しなければならない
- **FR-029**: 期限切れWaiverは自動的に無効化され、ゲート違反として再計上されなければならない

#### 要件トレーサビリティとMapping

- **FR-030**: 外部Issueトラッカー（Jira/GitHub/Linear等）と連携し、Requirementを外部IDで一意に紐付けられなければならない
- **FR-031**: Requirementの主要フィールド（タイトル・ステータス・担当者・ラベル等）を取り込み参照可能でなければならない
- **FR-032**: Requirementとテストケースリビジョン/テストシナリオリビジョン/テストシナリオリストリビジョンをリンク可能でなければならない（リンク粒度を選べる）
- **FR-033**: Mapping（要件とテスト資産の紐付け）自体をリビジョン管理し、「誰がいつ何を結び直したか」を監査可能でなければならない
- **FR-034**: Requirement単位でカバレッジ（Approvedテスト資産が紐付いているか）を算出可能でなければならない

#### 外部システム連携（Issue/PR/CI）

- **FR-035**: 外部Issueトラッカーと連携し、Requirementを外部IDで一意に紐付けられなければならない（FR-030と同じ）
- **FR-036**: PR/Commit/Buildを取り込み、リリースまたはテストランに紐付けられなければならない
- **FR-037**: CI結果（JUnit等）をAPI/CLI経由で取り込み、テスト結果として保存できなければならない

#### 監査ログ

- **FR-038**: 以下の操作を監査ログに記録しなければならない：作成/更新/削除/承認/例外承認/権限変更/連携設定変更
- **FR-039**: 監査ログは改ざん耐性を持ち、アプリケーション権限で編集不可でなければならない
- **FR-040**: 監査ログは期間・対象・ユーザー・イベント種別で検索可能でなければならない
- **FR-041**: 監査ログ保持期間をプロジェクト設定で制御可能でなければならない（例: 1/3/7年）

#### 通知

- **FR-042**: 承認待ち・差戻し・Waiver期限切れ・ゲート違反・テストラン割当/変更を通知可能でなければならない

#### 権限管理

- **FR-043**: 組織（Organization）> プロジェクト（Project）> リリース（Release）> テストラングループ（Run Group）の階層でアクセス制御できなければならない
- **FR-044**: ロールベースのアクセス制御（RBAC）をサポートし、最低限以下のロールを定義可能でなければならない：Admin / QA Manager / QA Engineer / Developer / PM/PO / Auditor/Viewer
- **FR-045**: 各ロールに対して参照/編集/承認/例外承認/管理者操作の権限を設定可能でなければならない

### 主要エンティティ _(機能がデータを含む場合は含める)_

#### 組織・権限

- **Organization**: 組織単位。複数プロジェクトを保持
- **Project**: プロジェクト単位。テスト資産・リリース・権限の管理単位
- **User**: ユーザー。認証・権限の対象
- **RoleAssignment**: ロール割り当て。user_id, role, scope（Organization/Project等）

#### 開発統合

- **ExternalIntegration**: 外部システム連携設定。source_type（Jira/GitHub/Linear等）, credentials, config
- **Requirement**: 要件。外部Issueに対応。external_id（外部IDで一意）, source, title, status, url, metadata

#### テスト資産（Versioned）

- **TestCase**: テストケースのstable_id管理単位。project_idを持つ
- **TestCaseRevision**: テストケースの不変リビジョン。case_stable_id, rev, status（Draft/InReview/Approved/Deprecated）, content（手順/期待結果等）, diff（前リビジョンとの差分）, reason（変更理由）, created_by, created_at
- **TestScenario**: テストシナリオのstable_id管理単位。project_idを持つ
- **TestScenarioRevision**: テストシナリオの不変リビジョン。scenario_stable_id, rev, status, content, diff, reason, created_by, created_at
- **TestScenarioItem**: シナリオリビジョン内のテストケース参照。scenario_revision_id, case_revision_id（固定）, order（順序）, optional_flag（必須/任意）, note
- **TestScenarioList**: テストシナリオリスト（実行テンプレート）のstable_id管理単位。project_idを持つ
- **TestScenarioListRevision**: テストシナリオリストの不変リビジョン。list_stable_id, rev, status, diff, reason, created_by, created_at
- **TestScenarioListItem**: リストリビジョン内のシナリオ参照。list_revision_id, scenario_revision_id（固定）, order, include_rule（任意）
- **Mapping**: 要件とテスト資産のマッピングのstable_id管理単位。project_idを持つ
- **MappingRevision**: マッピングの不変リビジョン。mapping_stable_id, rev, status, diff, reason, created_by, created_at
- **MappingItem**: マッピングリビジョン内のリンク。mapping_revision_id, requirement_external_id, target_type（Case/Scenario/List）, target_revision_id
- **WorkflowDefinition**: 承認ワークフロー定義のstable_id管理単位。project_idを持つ
- **WorkflowRevision**: ワークフロー定義の不変リビジョン。workflow_stable_id, rev, status, diff, created_by, created_at

#### リリース・実行

- **Release**: リリース。project_id, name, description, status（Planning/Executing/GateCheck/ApprovedForRelease/Released）, build_ref, created_at
- **ReleaseBaseline**: リリースのBaseline。release_id, source_list_revision_id（採用するテストシナリオリストリビジョン）, created_at, created_by
- **TestRunGroup**: テストラングループ（実行編成）。release_id, name, purpose（回帰/ホットフィックス等）, status（NotStarted/InProgress/Completed）, created_at
- **TestRun**: テストラン（個人と1:1）。run_group_id, assignee_user_id（担当者1名必須）, source_list_revision_id（参照するリストリビジョン固定）, build_ref, status（Assigned/InProgress/Completed）, created_at
- **TestRunItem**: テストランアイテム（実行対象のテストケースリビジョン）。run_id, case_revision_id（固定）, origin_scenario_revision_id（由来シナリオ）, order, created_at
- **TestResult**: テスト結果。run_item_id, status（Pass/Fail/Blocked/Skipped）, evidence（ログ/スクショ/リンク）, bug_links, executed_at, executed_by

#### 承認・例外・監査

- **Approval**: 承認記録。object_type（CaseRevision/ScenarioRevision/ListRevision/MappingRevision/Release/Waiver）, object_id, step（承認ステップ番号）, decision（承認/差戻し）, approver_id, timestamp, comment, evidence_links
- **Waiver**: 例外承認。release_id, target_type（Fail/未実行/未承認等）, target_id, reason, expires_at, issuer_id, created_at
- **AuditLog**: 監査ログ。event_type（作成/更新/削除/承認/例外承認/権限変更等）, actor_id, object_type, object_id, before（変更前の値）, after（変更後の値）, timestamp

## 成功基準 _(必須)_

### 測定可能な成果

- **SC-001**: 要件カバレッジ率（Approvedテスト資産が紐付く要件 / 対象要件）をリアルタイムで算出でき、1画面で確認可能
- **SC-002**: リリースゲート評価を実行すると、違反理由を含む評価結果が1.5秒以内に表示される（P95パフォーマンス目標）
- **SC-003**: テストケースが10万件、テスト結果が1,000万件蓄積されても、主要画面（要件一覧・トレーサビリティ・リリースゲート）がストレスなく動作する
- **SC-004**: 要件変更が発生したとき、影響を受けるテスト資産（マッピング・テストケース・シナリオ）を10秒以内に特定できる
- **SC-005**: リリース承認から出荷までのリードタイム（ゲート違反解消時間）を測定し、前月比で改善傾向を確認できる
- **SC-006**: 例外承認率（Waiver付きリリース / 全リリース）を月次で算出し、品質統制の指標として利用できる
- **SC-007**: Fail結果の80%以上にバグリンクが添付され、欠陥との紐付けが明確になる
- **SC-008**: 承認リードタイム（Review提出〜Approved）の中央値が3営業日以内に収まる
- **SC-009**: 監査ログを期間指定で検索し、結果をCSV/JSON形式でエクスポートできる（監査証跡として利用可能）
- **SC-010**: 同時ユーザー数が100名でも、主要操作（テストラン作成・結果記録・ゲート評価）が劣化なく動作する
- **SC-011**: Waiverの期限切れ前3日に通知が送信され、期限超過によるゲート違反再計上率が前月比で減少する
- **SC-012**: CI結果取り込みの成功率が95%以上となり、手動での結果記録の手間が削減される

## 前提条件（Assumptions）

- チームは既に何らかの外部Issueトラッカー（Jira/GitHub/Linear等）を使用しており、APIアクセスが可能
- 承認と監査が必要な組織（規制対応または品質統制の要求がある）を対象とする
- すべてのテストを厳密な手順書として残すことを強制しないが、出荷判定に使う資産は承認が必要
- SaaS環境での提供を想定し、可用性とセキュリティ（SSO/RBAC/暗号化）は標準要件とする
- データ保持期間は組織の監査要件に応じて設定可能とし、デフォルトは3年とする
- 承認者不在時は代理承認者機能で対応する。承認者ごとに代理承認者を事前設定でき、承認者不在時は自動的に代理に通知が送られる
